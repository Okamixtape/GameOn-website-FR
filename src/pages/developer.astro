---
/**
 * Developer/Portfolio Page Redesign - Astro-First Architecture
 * 
 * Page vitrine développeur avec design Synthwave
 * - 100% Astro pur (0 KB JS)
 * - Sections : Hero, Stack, Projects, Skills, Contact
 * - Performance optimale
 */

import LayoutRedesign from '../layouts/LayoutRedesign.astro';
import { GridBackground } from '../components/redesign/layout/GridBackground';
import Header from '../components/redesign/layout/Header';
import Footer from '../components/redesign/layout/Footer.astro';

import { 
  Code, Server, Cloud, Wrench, Zap, Eye, Box, 
  Mail, Github, Linkedin, ArrowRight, ExternalLink 
} from 'lucide-react';

import { 
  developerHero, 
  developerStack, 
  developerProjects,
  developerSkills,
  developerContact 
} from '../data/redesign/developer';

const title = "Développeur Full-Stack - Loup Aubour";
const description = "Cloud Engineer & Full-Stack Developer spécialisé en React, Astro, TypeScript et AWS. Portfolio de projets web performants.";

// Icon mapping
const iconMap = {
  Code, Server, Cloud, Wrench, Zap, Eye, Box,
  Mail, Github, Linkedin, ArrowRight, ExternalLink
} as const;
---

<LayoutRedesign title={title} description={description}>
  <div class="min-h-screen bg-bg-dark text-text-light">
    
    <!-- Header -->
    <Header client:load currentPath={Astro.url.pathname} />
    
    <!-- Grid Background -->
    <GridBackground client:only="react" />
    
    <!-- Content -->
    <div class="pt-20">
      
      <!-- Hero Section -->
      <section class="relative min-h-[600px] flex items-center overflow-hidden py-20">
        <!-- Background Image -->
        <div class="absolute inset-0">
          <img
            src={developerHero.image.src}
            alt={developerHero.image.alt}
            class="w-full h-full object-cover"
            loading="eager"
          />
          <div class="absolute inset-0 bg-gradient-to-r from-[#0a0a1f] via-[#0a0a1f]/95 to-[#0a0a1f]/70" />
        </div>

        <!-- Content -->
        <div class="container mx-auto px-4 relative z-10">
          <div class="max-w-4xl">
            <div class="inline-block mb-4">
              <span class="text-neon-cyan tracking-widest text-sm uppercase font-bold">
                {developerHero.eyebrow}
              </span>
            </div>
            <h1 class="mb-6 leading-tight">
              <span class="block text-3xl md:text-4xl text-text-muted mb-2">
                {developerHero.name}
              </span>
              <span class="block text-5xl md:text-6xl lg:text-7xl mb-4 font-bold">
                <span class="bg-gradient-to-r from-neon-cyan via-neon-magenta to-neon-cyan bg-clip-text text-transparent">
                  {developerHero.title}
                </span>
              </span>
              <span class="block text-2xl md:text-3xl text-text-light">
                {developerHero.tagline}
              </span>
            </h1>
            <p class="text-xl text-text-muted leading-relaxed mb-8 max-w-2xl">
              {developerHero.description}
            </p>
            <div class="flex flex-wrap gap-4">
              <a
                href={developerHero.cta.primary.href}
                class="inline-flex items-center gap-2 px-8 py-4 bg-gradient-to-r from-neon-magenta to-neon-cyan hover:from-neon-magenta/90 hover:to-neon-cyan/90 text-white font-bold rounded-lg shadow-lg shadow-purple-500/50 transition-all"
              >
                {developerHero.cta.primary.text}
                <ArrowRight className="w-5 h-5" />
              </a>
              <a
                href={developerHero.cta.secondary.href}
                class="inline-flex items-center gap-2 px-8 py-4 bg-transparent border border-white/30 text-white hover:bg-white/5 hover:border-white/50 rounded-lg transition-all"
              >
                {developerHero.cta.secondary.text}
              </a>
            </div>
          </div>
        </div>
      </section>

      <!-- Stack Section -->
      <section class="relative py-20">
        <div class="container mx-auto px-4 relative z-10">
          <div class="text-center mb-16">
            <h2 class="text-4xl md:text-5xl mb-4 font-bold">
              <span class="bg-gradient-to-r from-neon-cyan to-neon-magenta bg-clip-text text-transparent">
                {developerStack.title}
              </span>
            </h2>
            <p class="text-text-muted text-lg">{developerStack.subtitle}</p>
          </div>

          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            {developerStack.categories.map((category) => {
              const Icon = iconMap[category.icon as keyof typeof iconMap];
              return (
                <div class="group relative">
                  <div class="absolute inset-0 bg-gradient-to-r from-neon-magenta to-neon-cyan rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-300 blur-xl" />
                  
                  <div class="relative h-full p-6 rounded-2xl bg-bg-dark/60 backdrop-blur-xl border border-neon-cyan/20 group-hover:border-neon-cyan/50 transition-all duration-300">
                    <div class="flex items-center gap-3 mb-4">
                      <div class={`w-12 h-12 rounded-xl bg-gradient-to-br ${category.color} flex items-center justify-center`}>
                        <Icon className="w-6 h-6 text-white" />
                      </div>
                      <h3 class="text-2xl font-bold text-text-light">{category.name}</h3>
                    </div>
                    <ul class="space-y-2">
                      {category.technologies.map((tech) => (
                        <li class="flex justify-between items-center">
                          <span class="text-text-muted">{tech.name}</span>
                          <span class="text-neon-cyan text-sm font-medium">{tech.level}</span>
                        </li>
                      ))}
                    </ul>
                  </div>
                </div>
              );
            })}
          </div>
        </div>
      </section>

      <!-- Projects Section -->
      <section id="projects" class="relative py-20 bg-gradient-to-b from-transparent to-bg-dark-accent">
        <div class="container mx-auto px-4 relative z-10">
          <div class="text-center mb-16">
            <h2 class="text-4xl md:text-5xl mb-4 font-bold text-text-light">
              {developerProjects.title}
            </h2>
            <p class="text-text-muted text-lg">{developerProjects.subtitle}</p>
          </div>

          <div class="space-y-8">
            {developerProjects.projects.map((project) => (
              <div class="group relative">
                <div class="absolute inset-0 bg-gradient-to-r from-neon-cyan to-neon-magenta rounded-2xl opacity-0 group-hover:opacity-20 transition-opacity duration-300 blur-2xl" />
                
                <div class="relative grid md:grid-cols-2 gap-6 p-6 rounded-2xl bg-bg-dark/60 backdrop-blur-xl border border-neon-magenta/20 group-hover:border-neon-magenta/50 transition-all duration-300">
                  <!-- Image -->
                  <div class="rounded-xl overflow-hidden">
                    <img
                      src={project.image}
                      alt={project.name}
                      class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"
                      loading="lazy"
                    />
                  </div>

                  <!-- Content -->
                  <div class="flex flex-col justify-between">
                    <div>
                      <h3 class="text-2xl md:text-3xl mb-3 font-bold text-text-light">
                        {project.name}
                      </h3>
                      <p class="text-text-muted mb-4 leading-relaxed">
                        {project.description}
                      </p>
                      <div class="flex flex-wrap gap-2 mb-4">
                        {project.tags.map((tag) => (
                          <span class="px-3 py-1 text-xs rounded-full bg-neon-cyan/10 border border-neon-cyan/30 text-neon-cyan">
                            {tag}
                          </span>
                        ))}
                      </div>
                    </div>

                    <!-- Metrics -->
                    <div class="grid grid-cols-3 gap-3 mb-4">
                      {project.metrics.map((metric) => (
                        <div class="text-center p-3 rounded-lg bg-bg-dark/40 border border-neon-cyan/10">
                          <div class="text-lg font-bold text-neon-cyan">{metric.value}</div>
                          <div class="text-xs text-text-muted">{metric.label}</div>
                        </div>
                      ))}
                    </div>

                    <!-- Links -->
                    <div class="flex gap-3">
                      {project.links.demo && (
                        <a
                          href={project.links.demo}
                          class="flex-1 inline-flex items-center justify-center gap-2 px-4 py-2 bg-neon-magenta/20 border border-neon-magenta/40 text-neon-magenta hover:bg-neon-magenta/30 rounded-lg transition-all text-sm"
                        >
                          Démo
                          <ExternalLink className="w-4 h-4" />
                        </a>
                      )}
                      {project.links.github && (
                        <a
                          href={project.links.github}
                          target="_blank"
                          rel="noopener noreferrer"
                          class="flex-1 inline-flex items-center justify-center gap-2 px-4 py-2 bg-transparent border border-white/30 text-white hover:bg-white/5 rounded-lg transition-all text-sm"
                        >
                          GitHub
                          <Github className="w-4 h-4" />
                        </a>
                      )}
                    </div>
                  </div>
                </div>
              </div>
            ))}
          </div>
        </div>
      </section>

      <!-- Skills Section -->
      <section class="relative py-20">
        <div class="container mx-auto px-4 relative z-10">
          <div class="text-center mb-16">
            <h2 class="text-4xl md:text-5xl mb-4 font-bold text-text-light">
              {developerSkills.title}
            </h2>
          </div>

          <div class="grid grid-cols-1 md:grid-cols-2 gap-6 max-w-4xl mx-auto">
            {developerSkills.skills.map((skill) => {
              const Icon = iconMap[skill.icon as keyof typeof iconMap];
              return (
                <div class="p-6 rounded-xl bg-bg-dark/40 backdrop-blur-md border border-neon-cyan/20 hover:border-neon-cyan/50 transition-all">
                  <div class="flex items-start gap-4 mb-3">
                    <div class="w-10 h-10 rounded-lg bg-gradient-to-br from-neon-cyan to-neon-magenta flex items-center justify-center flex-shrink-0">
                      <Icon className="w-5 h-5 text-white" />
                    </div>
                    <div class="flex-1">
                      <h3 class="text-xl font-bold text-text-light mb-1">{skill.name}</h3>
                      <p class="text-text-muted text-sm">{skill.description}</p>
                    </div>
                  </div>
                  <!-- Progress bar -->
                  <div class="w-full h-2 bg-bg-dark rounded-full overflow-hidden">
                    <div 
                      class="h-full bg-gradient-to-r from-neon-cyan to-neon-magenta"
                      style={`width: ${skill.level}%`}
                    />
                  </div>
                </div>
              );
            })}
          </div>
        </div>
      </section>

      <!-- Contact Section -->
      <section id="contact" class="relative py-20">
        <div class="container mx-auto px-4 relative z-10">
          <div class="max-w-3xl mx-auto text-center p-12 rounded-2xl bg-gradient-to-br from-neon-magenta/10 via-neon-cyan/10 to-neon-magenta/10 border border-neon-cyan/30 backdrop-blur-xl">
            <h2 class="text-3xl md:text-4xl mb-4 font-bold">
              <span class="bg-gradient-to-r from-neon-cyan to-neon-magenta bg-clip-text text-transparent">
                {developerContact.title}
              </span>
            </h2>
            <p class="text-text-muted text-lg mb-8">
              {developerContact.description}
            </p>

            <!-- Contact Methods -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-8">
              {developerContact.methods.map((method) => {
                const Icon = iconMap[method.icon as keyof typeof iconMap];
                return (
                  <a
                    href={method.href}
                    target={method.id !== 'email' ? '_blank' : undefined}
                    rel={method.id !== 'email' ? 'noopener noreferrer' : undefined}
                    class="p-4 rounded-xl bg-bg-dark/40 border border-neon-cyan/20 hover:border-neon-cyan/50 hover:bg-bg-dark/60 transition-all group"
                  >
                    <Icon className="w-6 h-6 text-neon-cyan mx-auto mb-2 group-hover:scale-110 transition-transform" />
                    <div class="text-sm text-text-muted mb-1">{method.label}</div>
                    <div class="text-text-light font-medium">{method.value}</div>
                  </a>
                );
              })}
            </div>

            <!-- CTA -->
            <a
              href={developerContact.cta.href}
              class="inline-flex items-center gap-2 px-8 py-4 bg-gradient-to-r from-neon-magenta to-neon-cyan hover:from-neon-magenta/90 hover:to-neon-cyan/90 text-white font-bold rounded-lg shadow-lg shadow-purple-500/50 transition-all"
            >
              {developerContact.cta.text}
              <ArrowRight className="w-5 h-5" />
            </a>
          </div>
        </div>
      </section>

    </div>

    <!-- Footer -->
    <Footer />

  </div>
</LayoutRedesign>
