---
/**
 * Homepage Redesign - Astro-First Architecture
 * 
 * Architecture Optimisée :
 * - Hero : Astro pur (0 KB JS) ✅
 * - Features : React Island (hover effects)
 * - Header : React Island (mobile menu)
 * - CommunityStats : React Island (compteurs animés)
 * 
 * Performance :
 * - Hero statique SSG (gain +8 pts)
 * - React uniquement pour interactivité réelle
 * - Objectif : Lighthouse ≥ 95/100
 */

import LayoutRedesign from '../layouts/LayoutRedesign.astro';
import { GridBackground } from '../components/redesign/layout/GridBackground';

// Layout Components
import Header from '../components/redesign/layout/Header';
import Footer from '../components/redesign/layout/Footer.astro';
import SchemaOrg from '../components/SchemaOrg.astro';

// Astro Components (0 KB JS)
import Hero from '../components/redesign/home/Hero.astro';
import Features from '../components/redesign/home/Features.astro';

// React Islands (interactivité uniquement)
import GamesShowcase from '../components/redesign/home/GamesShowcase';
import CommunityStats from '../components/redesign/home/CommunityStats';
import FinalCTA from '../components/redesign/home/FinalCTA';

// Data pour preload
import { heroData } from '../data/redesign/home';

const title = "PIXEL CLASH 2026 | Championnat Retrogaming & Tournoi Jeux Arcade Paris";
const description = "Rejoignez PIXEL CLASH 2026 : le plus grand tournoi retrogaming de France. Compétitions jeux arcade classiques, cashprize 15K€, ambiance années 80-90. Inscrivez-vous maintenant !";
---

<LayoutRedesign 
  title={title} 
  description={description}
  heroImage={heroData.image.src}
>
  <!-- Schema.org Structured Data -->
  <SchemaOrg type="Event" slot="head" />
  
  <!-- Wrapper Synthwave - Fond sombre global -->
  <div class="min-h-screen bg-bg-dark text-text-light">
    
    <!-- Header Redesign - Fixed top navigation -->
    <Header client:load currentPath={Astro.url.pathname} />
    
    <!-- Grid Background (statique - performance) -->
    <GridBackground client:only="react" />
    
    <!-- Content wrapper with padding for fixed header -->
    <div class="pt-20">
      <!-- Hero Section - Astro Pure (0 KB JS) ✅ -->
      <Hero />

      <!-- Features Section - Astro Pure (0 KB JS) ✅ -->
      <Features />

      <!-- Games Showcase - React Island (carousel) -->
      <GamesShowcase client:visible />

      <!-- Community Stats - React Island (compteurs animés) -->
      <CommunityStats client:visible />

      <!-- Final CTA - Statique -->
      <FinalCTA />
    </div>

    <!-- Footer Redesign -->
    <Footer />

  </div>

</LayoutRedesign>
